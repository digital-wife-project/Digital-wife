
# Digital Wife: 基于Unity的实时3D数字人项目


## 项目概述
Digital Wife是一个基于Unity引擎开发的3D数字人项目，专注于实时生成人物肢体动作。该项目旨在创建一个能够与用户进行交互并实时生成自然肢体动作的数字角色，无需预动画制作。相比其他3D数字人项目，Digital Wife的核心优势在于其实时动作生成能力，为用户提供了更加动态和互动的体验。
## 项目特点

### 实时肢体动作生成
Digital Wife使用[Momask](https://github.com/EricGuo5513/momask-codes?tab=readme-ov-file#momask-generative-masked-modeling-of-3d-human-motions-cvpr-2024)实现了真正的实时肢体动作生成，角色能够根据用户的指令或输入实时响应并生成相应的自然动作。这种实时性使得角色能够更流畅地与用户互动，提供更沉浸式的体验。

### 数字角色来源
项目采用米哈游公开的人物模型。
- TODO:[ ]加入自定义模型的支持。
### 交互式环境
- TODO:[ ]Digital Wife将不仅限于角色本身，还将构建了一个用户可以与角色互动的3D环境。用户可以通过多种方式与角色进行交互，包括键盘控制、点击操作等。
### 多样化的动作系统
角色可以执行多种复杂的肢体动作，包括但不限于行走、跑步、跳跃、抓取物体等。这些动作不是通过预设动画实现的，而是通过实时计算生成的，使得角色的运动更加灵活和自然。

###TODO List
- 添加数字人物与周围环境的实时生成的互动
- 人物衣服的布料模拟以及头发的物理模拟
- 添加三维重构项目以增加人物模型多样性
- 添加对于手机等移动设备的兼容，使得你可以和数字人物一同外出


## 技术架构
### 引擎与工具
- **Unity3D**：作为主要的游戏开发和3D场景构建引擎，Unity提供了强大的实时渲染和物理引擎支持，是构建该项目的基础。
- **Blender**：用于3D角色的骨骼和动画绑定。
- **AI技术**：项目采用了AI技术来实现动作的实时生成。
### 技术实现
- **实时渲染**：利用Unity引擎的实时光线追踪和全局光照技术，创造出逼真的光影效果，使数字角色与环境无缝融合[[1](https://blog.csdn.net/gitblog_00063/article/details/137858896)]。
- **面部表情系统**：项目包括先进的面部表情控制系统，能够生成丰富的情感表达。
- **物理引擎集成**：通过Unity的物理引擎，角色能够与环境进行真实感的交互，例如与物体碰撞、重力影响等。
- **动画系统**：使用了Unity的Animator组件和Animation来处理角色的骨骼动画。
- TODO: [ ] **物理引擎集成**：通过Unity的物理引擎，角色能够与环境进行真实感的交互，例如与物体碰撞、重力影响等。
## 使用说明
### 系统需求
- **操作系统**：Windows 10/11
- **硬件要求**：显卡（NVIDIA），8GB显存
- **开发者Unity版本**：建议使用Unity 2021.3或更高版本
### 开发者安装与配置
- 注意，本仓库只包含核心代码实现！
1. 确保已安装最新版本的Unity Hub和Unity编辑器
2. 克隆Digital Wife项目文件
3. 解压文件并在Unity Hub中打开项目
4. 根据项目需求，配置以下内容：
   - 确保项目路径中不包含中文字符
   - 检查并安装所有必要的Unity包和资源
   - 配置项目设置，包括分辨率、帧率等
### 运行项目
1. 在Unity Hub中打开项目
2. 根据需要，可以修改场景设置和角色参数
3. 点击"播放"按钮在Unity编辑器中运行项目
4. 或者为您的目标平台构建项目
### 用户交互
- **基本控制**：使用键盘上的 WASD 键控制角色移动，空格键上升
- **指令输入**：通过文本输入框输入指令，角色将根据指令实时生成相应的动作响应
- TODO:[ ] **交互操作**：使用鼠标左键点击环境中的物体与之交互
## 开发环境配置
### Unity项目结构
项目结构如下：
```
ProjectFolder/
├── Assets/                  # 项目资源文件夹
│   ├── Scenes/               # 场景文件
│   ├── c#-scrpi/             # 脚本文件
│   └── ...
└── ...
```
### 依赖项管理
项目依赖于以下Unity包或第三方库：
- **Newtonsoft.JSON**：用于JSON数据解析
在Unity编辑器中，可以通过Package Manager管理这些依赖项。
## 开发指南
### 角色创建与配置
创建和配置3D数字角色通常涉及以下步骤：
1. 在Blender建模软件中创建角色模型（Tpose）
2. 为角色添加骨骼和权重 painting
3. 将模型导出为Unity支持的格式（如FBX）
4. 在Unity中导入模型并配置材质和骨骼
5. 设置角色控制器和动画系统
1. 提取人物模型的骨架放置于t2n文件夹下bone文件夹中
### 实时动作生成实现
实现角色的实时动作生成涉及以下技术：
- **AI驱动**：使用机器学习模型根据输入生成动作指令
- **程序化动画**：基于预定义的规则和参数生成动画
- TODO:[ ]**物理模拟**：使用物理引擎模拟自然运动
### 优化技巧
为了确保Digital Wife在各种设备上流畅运行，可以考虑以下优化技巧：
- **LOD设置**：为角色和环境物体设置不同的细节层次
- **烘焙光照**：使用Unity的光照烘焙功能减少实时计算
- **批处理**：合并相同材质的物体以减少Draw Call
- **性能分析**：使用Unity的Profiler工具分析和优化性能瓶颈
## 常见问题与解决方案
### 常见问题
1. **角色动画不流畅**：可能是由于帧率不足或动画过渡设置不当
2. **性能问题**：在低配置设备上运行时可能出现卡顿
3. **材质渲染问题**：在某些显卡上可能出现材质渲染异常
### 解决方案
1. **优化动画系统**：检查Animator设置，确保过渡曲线和混合树配置正确
2. **调整图形设置**：根据设备性能调整图形质量设置
3. **更新驱动程序**：确保显卡驱动程序为最新版本
## 贡献指南
如果您想为Digital Wife项目贡献代码或反馈，请遵循以下步骤：
1. 提交Issue：在[项目GitHub仓库](#)中提交问题或建议
2. 创建分支：为您的更改创建一个新的分支
3. 提交PR：提交Pull Request进行代码审查
4. 参与讨论：积极参与社区讨论，提出您的见解和建议
## 许可证
Digital Wife项目遵循[GPL许可证](LICENSE)。您可以自由使用、修改和分发该项目，但请尊重原作者的版权和贡献。
## 联系方式
如果您有任何问题或建议，请通过以下方式与我们联系：
- 邮箱：[wyy1937365497@outlook.com](mailto:wyy1937365497@outlook.com)
- QQ